# ==============================================================================
# Example workflow for using Flutter AI Code Reviewer in YOUR repository
# ==============================================================================
#
# To use this in your Flutter/Dart project:
# 1. Copy this file to: .github/workflows/ai-review.yml
# 2. Add GEMINI_API_KEY to your repository secrets
# 3. Customize the settings below as needed
# 4. Create a pull request to test!
#
# ==============================================================================

name: Gemini AI Code Reviewer (Flutter)

on:
  pull_request:
    types: [opened, synchronize, reopened]
    branches: [main, dev]

permissions:
  contents: read
  pull-requests: write
  issues: write

jobs:
  ai_review:
    name: AI Code Review
    runs-on: ubuntu-latest

    steps:
      - name: Checkout source code
        uses: actions/checkout@v4

      - name: Run Gemini AI Code Reviewer
        uses: ./  # Use local action for testing in this repo
        #vincetran/flutter-ai-review-bot@main
        with:
          gemini-api-key: ${{ secrets.GEMINI_API_KEY }}
          github-token: ${{ secrets.GITHUB_TOKEN }}
          review-language: 'vietnamese'  # Optional: 'vietnamese' or 'english' (default: vietnamese)
          # guide-file-path: 'docs/CODING_STANDARDS.md'  # Optional: custom guide file path
